<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Bharath Cycle Hub - Service Management</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        :root {
            --blue: #2563eb;
            --blue-light: #dbeafe;
            --green: #16a34a;
            --green-light: #dcfce7;
            --orange: #ea580c;
            --orange-light: #ffedd5;
            --red: #dc2626;
            --red-light: #fee2e2;
            --text: #1f2937;
            --text-light: #6b7280;
            --bg: #f9fafb;
            --white: #ffffff;
            --border: #e5e7eb;
            --shadow: 0 1px 3px rgba(0,0,0,0.12);
            --shadow-lg: 0 4px 12px rgba(0,0,0,0.15);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg);
            color: var(--text);
            max-width: 430px;
            margin: 0 auto;
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }

        /* ========== HEADER ========== */
        .header {
            background: var(--blue);
            color: white;
            padding: 16px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        .header h1 { font-size: 18px; font-weight: 600; }
        .header-subtitle { font-size: 12px; opacity: 0.8; }
        .header-right { display: flex; gap: 12px; align-items: center; }
        .header-icon {
            width: 36px; height: 36px;
            background: rgba(255,255,255,0.2);
            border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            font-size: 18px;
            cursor: pointer;
        }
        .notification-badge {
            position: absolute;
            top: -4px; right: -4px;
            background: var(--red);
            color: white;
            width: 18px; height: 18px;
            border-radius: 50%;
            font-size: 10px;
            display: flex; align-items: center; justify-content: center;
        }

        /* ========== NAVIGATION TABS ========== */
        .nav-tabs {
            display: flex;
            background: white;
            border-bottom: 1px solid var(--border);
            position: sticky;
            top: 60px;
            z-index: 99;
        }
        .nav-tab {
            flex: 1;
            text-align: center;
            padding: 12px 8px;
            font-size: 11px;
            font-weight: 500;
            color: var(--text-light);
            cursor: pointer;
            border-bottom: 2px solid transparent;
            transition: all 0.2s;
        }
        .nav-tab.active {
            color: var(--blue);
            border-bottom-color: var(--blue);
        }
        .nav-tab-icon {
            font-size: 20px;
            display: block;
            margin-bottom: 2px;
        }

        /* ========== SCREEN CONTAINER ========== */
        .screen { display: none; padding: 16px; padding-bottom: 80px; }
        .screen.active { display: block; }

        /* ========== MECHANIC CALENDAR SCREEN ========== */
        .date-bar {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 16px;
        }
        .date-bar h2 { font-size: 20px; }
        .date-bar .day-label {
            background: var(--blue-light);
            color: var(--blue);
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 600;
        }

        .time-block-label {
            font-size: 14px;
            font-weight: 600;
            color: var(--text-light);
            margin: 16px 0 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .time-block-label span { font-size: 18px; }

        /* ========== JOB CARDS ========== */
        .job-card {
            background: white;
            border-radius: 12px;
            padding: 0;
            margin-bottom: 12px;
            box-shadow: var(--shadow);
            overflow: hidden;
            position: relative;
            transition: transform 0.3s, opacity 0.3s;
            touch-action: pan-y;
        }
        .job-card.swiping { transition: none; }
        .job-card.completed {
            opacity: 0.6;
        }
        .job-card-border {
            position: absolute;
            left: 0; top: 0; bottom: 0;
            width: 5px;
        }
        .job-card-border.urgent { background: var(--red); }
        .job-card-border.standard { background: var(--orange); }
        .job-card-border.done { background: var(--green); }

        .job-card-content {
            padding: 12px 12px 12px 16px;
        }
        .job-card-top {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 8px;
        }
        .bike-photo {
            width: 56px; height: 56px;
            border-radius: 8px;
            background: var(--blue-light);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            flex-shrink: 0;
        }
        .job-info { flex: 1; }
        .job-customer { font-size: 16px; font-weight: 600; }
        .job-bike { font-size: 13px; color: var(--text-light); }
        .job-type-badge {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            margin-top: 4px;
        }
        .badge-repair { background: var(--red-light); color: var(--red); }
        .badge-service { background: var(--blue-light); color: var(--blue); }
        .badge-makeover { background: var(--orange-light); color: var(--orange); }
        .badge-insurance { background: var(--green-light); color: var(--green); }

        .job-card-bottom {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding-top: 8px;
            border-top: 1px solid var(--border);
        }
        .job-time {
            font-size: 13px;
            color: var(--text-light);
            display: flex;
            align-items: center;
            gap: 4px;
        }
        .job-parts {
            font-size: 11px;
            padding: 3px 8px;
            border-radius: 8px;
        }
        .parts-ready { background: var(--green-light); color: var(--green); }
        .parts-pending { background: var(--red-light); color: var(--red); }

        .job-action-btn {
            padding: 8px 16px;
            border: none;
            border-radius: 8px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.1s;
        }
        .job-action-btn:active { transform: scale(0.95); }
        .btn-start { background: var(--blue); color: white; }
        .btn-complete { background: var(--green); color: white; }
        .btn-done { background: var(--green-light); color: var(--green); }

        .swipe-hint {
            text-align: center;
            font-size: 12px;
            color: var(--text-light);
            padding: 8px;
            margin-top: 8px;
        }
        .swipe-hint span { font-size: 16px; }

        /* ========== PROGRESS BAR ========== */
        .progress-section {
            background: white;
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 16px;
            box-shadow: var(--shadow);
        }
        .progress-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
        }
        .progress-label { font-size: 14px; font-weight: 600; }
        .progress-count { font-size: 14px; color: var(--blue); font-weight: 600; }
        .progress-bar {
            height: 10px;
            background: var(--border);
            border-radius: 5px;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--blue), var(--green));
            border-radius: 5px;
            transition: width 0.5s ease;
        }

        /* ========== OWNER DASHBOARD ========== */
        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-bottom: 16px;
        }
        .stat-card {
            background: white;
            border-radius: 12px;
            padding: 16px;
            box-shadow: var(--shadow);
            text-align: center;
        }
        .stat-icon { font-size: 28px; margin-bottom: 4px; }
        .stat-value { font-size: 24px; font-weight: 700; }
        .stat-label { font-size: 12px; color: var(--text-light); margin-top: 2px; }

        .mechanic-card {
            background: white;
            border-radius: 12px;
            padding: 14px;
            margin-bottom: 10px;
            box-shadow: var(--shadow);
            display: flex;
            align-items: center;
            gap: 12px;
        }
        .mechanic-avatar {
            width: 48px; height: 48px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 22px;
            color: white;
            font-weight: 700;
            flex-shrink: 0;
        }
        .mechanic-info { flex: 1; }
        .mechanic-name { font-size: 15px; font-weight: 600; }
        .mechanic-status { font-size: 12px; color: var(--text-light); }
        .mechanic-stats {
            display: flex;
            gap: 8px;
            margin-top: 4px;
        }
        .mechanic-stat {
            font-size: 11px;
            padding: 2px 6px;
            border-radius: 6px;
        }
        .workload-bar {
            width: 60px; height: 8px;
            background: var(--border);
            border-radius: 4px;
            overflow: hidden;
        }
        .workload-fill {
            height: 100%;
            border-radius: 4px;
        }

        /* ========== QUEUE / ASSIGNMENT ========== */
        .queue-section {
            margin-bottom: 16px;
        }
        .queue-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .queue-count {
            background: var(--red);
            color: white;
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 12px;
        }

        .new-bike-card {
            background: white;
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 10px;
            box-shadow: var(--shadow);
            border-left: 4px solid var(--orange);
        }
        .new-bike-top {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }
        .new-bike-icon {
            width: 44px; height: 44px;
            background: var(--orange-light);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }
        .new-bike-info h3 { font-size: 15px; font-weight: 600; }
        .new-bike-info p { font-size: 12px; color: var(--text-light); }
        .assign-options {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }
        .assign-btn {
            padding: 8px 14px;
            border: 2px solid var(--border);
            border-radius: 8px;
            background: white;
            cursor: pointer;
            font-size: 12px;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: all 0.2s;
        }
        .assign-btn:hover, .assign-btn.selected {
            border-color: var(--blue);
            background: var(--blue-light);
        }
        .assign-btn .assign-load {
            font-size: 10px;
            color: var(--text-light);
        }
        .auto-assign-btn {
            width: 100%;
            padding: 12px;
            margin-top: 8px;
            background: var(--blue);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        .auto-assign-btn:active { transform: scale(0.98); }

        /* ========== CUSTOMER STATUS ========== */
        .customer-card {
            background: white;
            border-radius: 12px;
            padding: 14px;
            margin-bottom: 10px;
            box-shadow: var(--shadow);
        }
        .customer-top {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 8px;
        }
        .customer-avatar {
            width: 40px; height: 40px;
            background: var(--blue-light);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }
        .customer-name { font-size: 14px; font-weight: 600; }
        .customer-phone { font-size: 12px; color: var(--text-light); }
        .status-timeline {
            display: flex;
            align-items: center;
            gap: 0;
            margin-top: 8px;
        }
        .status-step {
            flex: 1;
            text-align: center;
            position: relative;
        }
        .status-dot {
            width: 24px; height: 24px;
            border-radius: 50%;
            margin: 0 auto 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            color: white;
        }
        .status-dot.done { background: var(--green); }
        .status-dot.current { background: var(--blue); animation: pulse 1.5s infinite; }
        .status-dot.pending { background: var(--border); }
        .status-label { font-size: 9px; color: var(--text-light); }
        .status-line {
            position: absolute;
            top: 12px;
            left: 50%;
            width: 100%;
            height: 2px;
            z-index: -1;
        }
        .status-line.done { background: var(--green); }
        .status-line.pending { background: var(--border); }
        .whatsapp-btn {
            margin-top: 10px;
            width: 100%;
            padding: 10px;
            background: #25D366;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        @keyframes pulse {
            0%, 100% { box-shadow: 0 0 0 0 rgba(37,99,235,0.4); }
            50% { box-shadow: 0 0 0 8px rgba(37,99,235,0); }
        }

        /* ========== BOTTOM NAV ========== */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100%;
            max-width: 430px;
            background: white;
            border-top: 1px solid var(--border);
            display: flex;
            padding: 8px 0;
            z-index: 100;
        }
        .bottom-nav-item {
            flex: 1;
            text-align: center;
            padding: 4px 0;
            cursor: pointer;
            color: var(--text-light);
            transition: color 0.2s;
        }
        .bottom-nav-item.active { color: var(--blue); }
        .bottom-nav-icon { font-size: 22px; display: block; }
        .bottom-nav-label { font-size: 10px; margin-top: 2px; }

        /* ========== ROLE SWITCHER ========== */
        .role-switcher {
            position: fixed;
            top: 70px;
            right: 10px;
            z-index: 200;
            background: white;
            border-radius: 10px;
            box-shadow: var(--shadow-lg);
            overflow: hidden;
        }
        .role-btn {
            display: block;
            padding: 10px 16px;
            border: none;
            background: white;
            cursor: pointer;
            font-size: 13px;
            width: 100%;
            text-align: left;
            transition: background 0.2s;
        }
        .role-btn:hover { background: var(--blue-light); }
        .role-btn.active { background: var(--blue); color: white; }

        /* ========== SECTION TITLES ========== */
        .section-title {
            font-size: 16px;
            font-weight: 600;
            margin: 16px 0 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        /* ========== PERFORMANCE CHART ========== */
        .perf-chart {
            background: white;
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 16px;
            box-shadow: var(--shadow);
        }
        .perf-bar-row {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }
        .perf-name { width: 60px; font-size: 13px; font-weight: 500; }
        .perf-bar {
            flex: 1;
            height: 24px;
            background: var(--border);
            border-radius: 6px;
            overflow: hidden;
            position: relative;
        }
        .perf-bar-fill {
            height: 100%;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 8px;
            font-size: 11px;
            color: white;
            font-weight: 600;
            transition: width 1s ease;
        }
        .perf-score {
            font-size: 13px;
            font-weight: 700;
            width: 30px;
            text-align: right;
        }

        /* ========== TOAST NOTIFICATION ========== */
        .toast {
            position: fixed;
            bottom: 80px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: var(--text);
            color: white;
            padding: 12px 24px;
            border-radius: 10px;
            font-size: 14px;
            z-index: 300;
            transition: transform 0.3s ease;
            white-space: nowrap;
        }
        .toast.show { transform: translateX(-50%) translateY(0); }

        /* ========== REVENUE WIDGET ========== */
        .revenue-card {
            background: linear-gradient(135deg, var(--blue), #1d4ed8);
            border-radius: 12px;
            padding: 20px;
            color: white;
            margin-bottom: 16px;
        }
        .revenue-label { font-size: 13px; opacity: 0.8; }
        .revenue-value { font-size: 32px; font-weight: 700; margin: 4px 0; }
        .revenue-compare { font-size: 13px; opacity: 0.8; }
        .revenue-compare .up { color: #86efac; }

        /* ========== MODE LABEL ========== */
        .mode-banner {
            background: var(--orange-light);
            color: var(--orange);
            text-align: center;
            padding: 6px;
            font-size: 12px;
            font-weight: 600;
        }

        /* ========== EMPTY STATE ========== */
        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: var(--text-light);
        }
        .empty-state .emoji { font-size: 48px; margin-bottom: 12px; }
    </style>
</head>
<body>
    <!-- ROLE SWITCHER (for demo purposes) -->
    <div class="mode-banner" id="modeBanner">
        PROTOTYPE: Tap üë§ to switch role ‚Üí
        <strong id="currentRole">Front Desk (Staff)</strong>
        &bull; Flow: Staff ‚Üí Mechanic ‚Üí Owner
    </div>

    <!-- HEADER -->
    <div class="header" id="appHeader">
        <div>
            <h1 id="headerTitle">Bharath Cycle Hub</h1>
            <div class="header-subtitle" id="headerSubtitle">Support Staff - Front Desk</div>
        </div>
        <div class="header-right">
            <div class="header-icon" style="position:relative" onclick="showToast('3 notifications')">
                üîî
                <div class="notification-badge">3</div>
            </div>
            <div class="header-icon" onclick="toggleRole()">üë§</div>
        </div>
    </div>

    <!-- ========== MECHANIC VIEW ========== -->
    <div id="mechanicView" style="display:none;">
        <div class="nav-tabs">
            <div class="nav-tab active" onclick="switchMechTab(this,'today')">
                <span class="nav-tab-icon">üìÖ</span>Today
            </div>
            <div class="nav-tab" onclick="switchMechTab(this,'tomorrow')">
                <span class="nav-tab-icon">üìÜ</span>Tomorrow
            </div>
            <div class="nav-tab" onclick="switchMechTab(this,'week')">
                <span class="nav-tab-icon">üìä</span>Week
            </div>
            <div class="nav-tab" onclick="switchMechTab(this,'myStats')">
                <span class="nav-tab-icon">üèÜ</span>My Stats
            </div>
        </div>

        <!-- TODAY SCREEN -->
        <div class="screen active" id="today">
            <div class="date-bar">
                <h2>Today</h2>
                <div class="day-label">Fri, 14 Feb</div>
            </div>

            <div class="progress-section">
                <div class="progress-header">
                    <span class="progress-label">Today's Progress</span>
                    <span class="progress-count" id="progressText">2 / 5 done</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill" style="width: 40%"></div>
                </div>
            </div>

            <div class="time-block-label"><span>üåÖ</span> Morning</div>

            <div class="job-card completed" id="job1">
                <div class="job-card-border done"></div>
                <div class="job-card-content">
                    <div class="job-card-top">
                        <div class="bike-photo">üèçÔ∏è</div>
                        <div class="job-info">
                            <div class="job-customer">Rajesh Kumar</div>
                            <div class="job-bike">Hero Splendor Plus 2022</div>
                            <div class="job-type-badge badge-service">üîß Regular Service</div>
                        </div>
                    </div>
                    <div class="job-card-bottom">
                        <div class="job-time">‚è±Ô∏è 45 min (done in 38 min)</div>
                        <button class="job-action-btn btn-done">‚úÖ Done</button>
                    </div>
                </div>
            </div>

            <div class="job-card completed" id="job2">
                <div class="job-card-border done"></div>
                <div class="job-card-content">
                    <div class="job-card-top">
                        <div class="bike-photo">üö≤</div>
                        <div class="job-info">
                            <div class="job-customer">Anita Patel</div>
                            <div class="job-bike">Bajaj Pulsar 150</div>
                            <div class="job-type-badge badge-insurance">‚úÖ Insurance Service</div>
                        </div>
                    </div>
                    <div class="job-card-bottom">
                        <div class="job-time">‚è±Ô∏è 30 min (done in 25 min)</div>
                        <button class="job-action-btn btn-done">‚úÖ Done</button>
                    </div>
                </div>
            </div>

            <div class="job-card" id="job3">
                <div class="job-card-border urgent"></div>
                <div class="job-card-content">
                    <div class="job-card-top">
                        <div class="bike-photo" style="background: var(--red-light);">üèçÔ∏è</div>
                        <div class="job-info">
                            <div class="job-customer">Ramesh Gupta</div>
                            <div class="job-bike">Honda CB Shine 2020</div>
                            <div class="job-type-badge badge-repair">‚ö° Repair - Engine Issue</div>
                        </div>
                    </div>
                    <div class="job-card-bottom">
                        <div class="job-time">‚è±Ô∏è ~90 min</div>
                        <div class="job-parts parts-ready">‚úÖ Parts Ready</div>
                        <button class="job-action-btn btn-start" onclick="startJob(this, 'job3')">‚ñ∂ Start</button>
                    </div>
                </div>
            </div>

            <div class="time-block-label"><span>üåá</span> Afternoon</div>

            <div class="job-card" id="job4">
                <div class="job-card-border standard"></div>
                <div class="job-card-content">
                    <div class="job-card-top">
                        <div class="bike-photo" style="background: var(--orange-light);">üèçÔ∏è</div>
                        <div class="job-info">
                            <div class="job-customer">Priya Sharma</div>
                            <div class="job-bike">Royal Enfield Classic 350</div>
                            <div class="job-type-badge badge-makeover">üßΩ Complete Makeover ‚Çπ2459</div>
                        </div>
                    </div>
                    <div class="job-card-bottom">
                        <div class="job-time">‚è±Ô∏è ~4 hours (with Baba)</div>
                        <div class="job-parts parts-pending">‚ö†Ô∏è Oil Filter Pending</div>
                    </div>
                </div>
            </div>

            <div class="job-card" id="job5">
                <div class="job-card-border standard"></div>
                <div class="job-card-content">
                    <div class="job-card-top">
                        <div class="bike-photo">üèçÔ∏è</div>
                        <div class="job-info">
                            <div class="job-customer">Suresh Reddy</div>
                            <div class="job-bike">TVS Apache RTR 160</div>
                            <div class="job-type-badge badge-service">üîß Regular Service</div>
                        </div>
                    </div>
                    <div class="job-card-bottom">
                        <div class="job-time">‚è±Ô∏è ~45 min</div>
                        <div class="job-parts parts-ready">‚úÖ Parts Ready</div>
                    </div>
                </div>
            </div>

            <div class="swipe-hint">
                <span>üëÜ</span> Tap "Start" to begin a job &bull; Tap "Complete" when finished
            </div>
        </div>

        <!-- TOMORROW SCREEN -->
        <div class="screen" id="tomorrow">
            <div class="date-bar">
                <h2>Tomorrow</h2>
                <div class="day-label">Sat, 15 Feb ‚ö° Weekend Rush</div>
            </div>

            <div class="progress-section" style="background: var(--orange-light); border: 1px solid var(--orange);">
                <div class="progress-header">
                    <span class="progress-label" style="color: var(--orange);">‚ö†Ô∏è Heavy Day - 7 Jobs Assigned</span>
                </div>
                <div style="font-size: 13px; color: var(--orange); margin-top: 4px;">
                    Estimated: 6.5 hours &bull; Parts prep needed for 3 jobs
                </div>
            </div>

            <div class="section-title">üîß Prepare Parts Tonight</div>

            <div class="job-card">
                <div class="job-card-border standard"></div>
                <div class="job-card-content">
                    <div class="job-card-top">
                        <div class="bike-photo">üèçÔ∏è</div>
                        <div class="job-info">
                            <div class="job-customer">Vikram Singh</div>
                            <div class="job-bike">Yamaha FZ-S V3</div>
                            <div class="job-type-badge badge-service">üîß Regular Service</div>
                        </div>
                    </div>
                    <div class="job-card-bottom">
                        <div class="job-time">üåÖ Morning &bull; ~45 min</div>
                        <div class="job-parts parts-ready">‚úÖ Ready</div>
                    </div>
                </div>
            </div>

            <div class="job-card">
                <div class="job-card-border urgent"></div>
                <div class="job-card-content">
                    <div class="job-card-top">
                        <div class="bike-photo" style="background: var(--red-light);">üèçÔ∏è</div>
                        <div class="job-info">
                            <div class="job-customer">Arun Mehta</div>
                            <div class="job-bike">KTM Duke 200</div>
                            <div class="job-type-badge badge-repair">‚ö° Repair - Clutch</div>
                        </div>
                    </div>
                    <div class="job-card-bottom">
                        <div class="job-time">üåÖ Morning &bull; ~2 hours</div>
                        <div class="job-parts parts-pending">‚ö†Ô∏è Need clutch cable</div>
                    </div>
                </div>
            </div>

            <div class="job-card">
                <div class="job-card-border standard"></div>
                <div class="job-card-content">
                    <div class="job-card-top">
                        <div class="bike-photo">üèçÔ∏è</div>
                        <div class="job-info">
                            <div class="job-customer">Deepak Rao</div>
                            <div class="job-bike">Honda Activa 6G</div>
                            <div class="job-type-badge badge-service">üîß Regular Service</div>
                        </div>
                    </div>
                    <div class="job-card-bottom">
                        <div class="job-time">üåá Afternoon &bull; ~30 min</div>
                        <div class="job-parts parts-ready">‚úÖ Ready</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- WEEK SCREEN -->
        <div class="screen" id="week">
            <div class="date-bar">
                <h2>This Week</h2>
                <div class="day-label">Feb 10 - 16</div>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">‚úÖ</div>
                    <div class="stat-value">12</div>
                    <div class="stat-label">Jobs Completed</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">‚è±Ô∏è</div>
                    <div class="stat-value">94%</div>
                    <div class="stat-label">On-Time Rate</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">‚≠ê</div>
                    <div class="stat-value">4.8</div>
                    <div class="stat-label">Quality Score</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üèÜ</div>
                    <div class="stat-value">#1</div>
                    <div class="stat-label">Team Ranking</div>
                </div>
            </div>

            <div class="section-title">üìä Daily Workload</div>
            <div class="perf-chart">
                <div class="perf-bar-row">
                    <div class="perf-name">Mon</div>
                    <div class="perf-bar"><div class="perf-bar-fill" style="width:60%;background:var(--blue)">3</div></div>
                </div>
                <div class="perf-bar-row">
                    <div class="perf-name">Tue</div>
                    <div class="perf-bar"><div class="perf-bar-fill" style="width:80%;background:var(--blue)">4</div></div>
                </div>
                <div class="perf-bar-row">
                    <div class="perf-name">Wed</div>
                    <div class="perf-bar"><div class="perf-bar-fill" style="width:60%;background:var(--blue)">3</div></div>
                </div>
                <div class="perf-bar-row">
                    <div class="perf-name">Thu</div>
                    <div class="perf-bar"><div class="perf-bar-fill" style="width:40%;background:var(--blue)">2</div></div>
                </div>
                <div class="perf-bar-row">
                    <div class="perf-name">Fri</div>
                    <div class="perf-bar"><div class="perf-bar-fill" style="width:40%;background:var(--orange)">2/5</div></div>
                </div>
                <div class="perf-bar-row">
                    <div class="perf-name" style="color:var(--red);font-weight:700">Sat</div>
                    <div class="perf-bar"><div class="perf-bar-fill" style="width:100%;background:var(--red)">7 planned</div></div>
                </div>
            </div>
        </div>

        <!-- MY STATS SCREEN (Own stats only - no team rankings, that's owner-only) -->
        <div class="screen" id="myStats">
            <div class="section-title">üèÜ My Performance - February</div>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">‚úÖ</div>
                    <div class="stat-value">47</div>
                    <div class="stat-label">Jobs This Month</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">‚è±Ô∏è</div>
                    <div class="stat-value">92%</div>
                    <div class="stat-label">On-Time</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">‚≠ê</div>
                    <div class="stat-value">4.7</div>
                    <div class="stat-label">QC Pass Rate</div>
                </div>
                <div class="stat-card" style="background: var(--green-light);">
                    <div class="stat-icon">üí∞</div>
                    <div class="stat-value" style="color: var(--green);">‚Çπ2,800</div>
                    <div class="stat-label">Incentive Earned</div>
                </div>
            </div>

            <div class="section-title">üìä My Daily Jobs This Week</div>
            <div class="perf-chart">
                <div class="perf-bar-row">
                    <div class="perf-name">Mon</div>
                    <div class="perf-bar"><div class="perf-bar-fill" style="width:80%;background:var(--green)">4 jobs ‚úÖ</div></div>
                </div>
                <div class="perf-bar-row">
                    <div class="perf-name">Tue</div>
                    <div class="perf-bar"><div class="perf-bar-fill" style="width:60%;background:var(--green)">3 jobs ‚úÖ</div></div>
                </div>
                <div class="perf-bar-row">
                    <div class="perf-name">Wed</div>
                    <div class="perf-bar"><div class="perf-bar-fill" style="width:60%;background:var(--green)">3 jobs ‚úÖ</div></div>
                </div>
                <div class="perf-bar-row">
                    <div class="perf-name">Thu</div>
                    <div class="perf-bar"><div class="perf-bar-fill" style="width:40%;background:var(--blue)">2 jobs ‚úÖ</div></div>
                </div>
                <div class="perf-bar-row">
                    <div class="perf-name">Fri</div>
                    <div class="perf-bar"><div class="perf-bar-fill" style="width:40%;background:var(--orange)">2/5 üîß</div></div>
                </div>
            </div>

            <div class="section-title">üìà My Trends</div>
            <div style="background:white;border-radius:12px;padding:16px;box-shadow:var(--shadow);">
                <div style="display:flex;justify-content:space-between;margin-bottom:10px;font-size:13px;">
                    <span>Avg completion time</span>
                    <span style="color:var(--green);font-weight:600;">‚Üì 12% faster than last week</span>
                </div>
                <div style="display:flex;justify-content:space-between;margin-bottom:10px;font-size:13px;">
                    <span>QC fail rate</span>
                    <span style="color:var(--green);font-weight:600;">0 this week (was 1 last week)</span>
                </div>
                <div style="display:flex;justify-content:space-between;margin-bottom:10px;font-size:13px;">
                    <span>Parts requests</span>
                    <span style="font-weight:600;">3 this week</span>
                </div>
                <div style="display:flex;justify-content:space-between;font-size:13px;">
                    <span>Best day this month</span>
                    <span style="color:var(--blue);font-weight:600;">Feb 8 - 6 jobs completed!</span>
                </div>
            </div>
        </div>
    </div>

    <!-- ========== OWNER VIEW ========== -->
    <div id="ownerView" style="display:none;">
        <div class="nav-tabs">
            <div class="nav-tab active" onclick="switchOwnerTab(this,'dashboard')">
                <span class="nav-tab-icon">üìä</span>Dashboard
            </div>
            <div class="nav-tab" onclick="switchOwnerTab(this,'assign')">
                <span class="nav-tab-icon">üìã</span>Assign
            </div>
            <div class="nav-tab" onclick="switchOwnerTab(this,'team')">
                <span class="nav-tab-icon">üë•</span>Team
            </div>
            <div class="nav-tab" onclick="switchOwnerTab(this,'customers')">
                <span class="nav-tab-icon">üì±</span>Customers
            </div>
        </div>

        <!-- DASHBOARD SCREEN -->
        <div class="screen active" id="dashboard">
            <div class="revenue-card">
                <div class="revenue-label">Today's Revenue</div>
                <div class="revenue-value">‚Çπ18,450</div>
                <div class="revenue-compare"><span class="up">‚Üë 23%</span> vs last Friday &bull; Target: ‚Çπ25,000</div>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">üèçÔ∏è</div>
                    <div class="stat-value">18</div>
                    <div class="stat-label">Bikes In Service</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">‚úÖ</div>
                    <div class="stat-value">9</div>
                    <div class="stat-label">Completed Today</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">‚è≥</div>
                    <div class="stat-value">4</div>
                    <div class="stat-label">In Progress</div>
                </div>
                <div class="stat-card" style="border: 2px solid var(--red);">
                    <div class="stat-icon">‚ö†Ô∏è</div>
                    <div class="stat-value" style="color: var(--red);">2</div>
                    <div class="stat-label" style="color: var(--red);">Parts Pending</div>
                </div>
            </div>

            <div class="section-title">üë• Team Status - Live</div>

            <div class="mechanic-card">
                <div class="mechanic-avatar" style="background: var(--green);">M</div>
                <div class="mechanic-info">
                    <div class="mechanic-name">Mujju <span style="color:var(--green);font-size:12px;">‚óè Working</span></div>
                    <div class="mechanic-status">Honda CB Shine - Engine repair</div>
                    <div class="mechanic-stats">
                        <span class="mechanic-stat" style="background:var(--green-light);color:var(--green)">2 done</span>
                        <span class="mechanic-stat" style="background:var(--blue-light);color:var(--blue)">3 left</span>
                    </div>
                </div>
                <div>
                    <div class="workload-bar"><div class="workload-fill" style="width:40%;background:var(--green)"></div></div>
                </div>
            </div>

            <div class="mechanic-card">
                <div class="mechanic-avatar" style="background: var(--blue);">A</div>
                <div class="mechanic-info">
                    <div class="mechanic-name">Appi <span style="color:var(--green);font-size:12px;">‚óè Working</span></div>
                    <div class="mechanic-status">Yamaha R15 - Brake adjustment</div>
                    <div class="mechanic-stats">
                        <span class="mechanic-stat" style="background:var(--green-light);color:var(--green)">3 done</span>
                        <span class="mechanic-stat" style="background:var(--blue-light);color:var(--blue)">2 left</span>
                    </div>
                </div>
                <div>
                    <div class="workload-bar"><div class="workload-fill" style="width:60%;background:var(--blue)"></div></div>
                </div>
            </div>

            <div class="mechanic-card">
                <div class="mechanic-avatar" style="background: var(--orange);">B</div>
                <div class="mechanic-info">
                    <div class="mechanic-name">Baba <span style="color:var(--orange);font-size:12px;">‚óè Waiting</span></div>
                    <div class="mechanic-status">Parts pending for Royal Enfield</div>
                    <div class="mechanic-stats">
                        <span class="mechanic-stat" style="background:var(--green-light);color:var(--green)">1 done</span>
                        <span class="mechanic-stat" style="background:var(--red-light);color:var(--red)">‚ö†Ô∏è Blocked</span>
                    </div>
                </div>
                <div>
                    <div class="workload-bar"><div class="workload-fill" style="width:25%;background:var(--orange)"></div></div>
                </div>
            </div>

            <div class="mechanic-card">
                <div class="mechanic-avatar" style="background: var(--blue);">I</div>
                <div class="mechanic-info">
                    <div class="mechanic-name">Iqbal <span style="color:var(--green);font-size:12px;">‚óè Working</span></div>
                    <div class="mechanic-status">TVS Jupiter - Regular service</div>
                    <div class="mechanic-stats">
                        <span class="mechanic-stat" style="background:var(--green-light);color:var(--green)">2 done</span>
                        <span class="mechanic-stat" style="background:var(--blue-light);color:var(--blue)">2 left</span>
                    </div>
                </div>
                <div>
                    <div class="workload-bar"><div class="workload-fill" style="width:50%;background:var(--blue)"></div></div>
                </div>
            </div>

            <div class="mechanic-card">
                <div class="mechanic-avatar" style="background: var(--text-light);">Mo</div>
                <div class="mechanic-info">
                    <div class="mechanic-name">Mohan <span style="color:var(--red);font-size:12px;">‚óè Slow</span></div>
                    <div class="mechanic-status">Hero HF Deluxe - Taking longer than estimated</div>
                    <div class="mechanic-stats">
                        <span class="mechanic-stat" style="background:var(--green-light);color:var(--green)">1 done</span>
                        <span class="mechanic-stat" style="background:var(--red-light);color:var(--red)">‚è±Ô∏è +30min over</span>
                    </div>
                </div>
                <div>
                    <div class="workload-bar"><div class="workload-fill" style="width:20%;background:var(--red)"></div></div>
                </div>
            </div>
        </div>

        <!-- ASSIGN SCREEN (Hybrid: auto-assigned, but owner can reassign) -->
        <div class="screen" id="assign">
            <!-- Recently auto-assigned (can reassign) -->
            <div class="queue-section">
                <div class="queue-title">‚ö° Auto-Assigned (Tap to Reassign) <span class="queue-count" style="background:var(--blue);">3</span></div>
                <div style="font-size:12px;color:var(--text-light);margin-bottom:12px;">System auto-assigned these. You or Mujju can reassign if needed.</div>

                <div class="new-bike-card" style="border-left-color:var(--blue);">
                    <div class="new-bike-top">
                        <div class="new-bike-icon" style="background:var(--blue-light);">üèçÔ∏è</div>
                        <div class="new-bike-info">
                            <h3>Amit Verma</h3>
                            <p>Suzuki Gixxer SF &bull; Chain noise + brake check</p>
                            <p style="color:var(--blue);font-weight:600;">‚úÖ Auto-assigned to <strong>Appi</strong> (2 min ago)</p>
                        </div>
                    </div>
                    <div style="font-size:12px;color:var(--text-light);margin-bottom:8px;">Why Appi: lowest workload (2 jobs) + skill match for repairs</div>
                    <div class="assign-options">
                        <div class="assign-btn" onclick="selectAssign(this)">
                            M Mujju <span class="assign-load" style="color:var(--orange)">3 jobs</span>
                        </div>
                        <div class="assign-btn selected" onclick="selectAssign(this)">
                            A Appi <span class="assign-load" style="color:var(--green)">2 jobs ‚úÖ</span>
                        </div>
                        <div class="assign-btn" onclick="selectAssign(this)">
                            I Iqbal <span class="assign-load" style="color:var(--orange)">2 jobs</span>
                        </div>
                        <div class="assign-btn" onclick="selectAssign(this)">
                            B Baba <span class="assign-load" style="color:var(--red)">Blocked</span>
                        </div>
                    </div>
                    <button class="auto-assign-btn" style="background:var(--text-light);" onclick="showToast('Job reassigned! Old & new mechanic notified.')">üîÑ Reassign to Selected</button>
                </div>

                <div class="new-bike-card" style="border-left-color:var(--blue);">
                    <div class="new-bike-top">
                        <div class="new-bike-icon" style="background:var(--blue-light);">üèçÔ∏è</div>
                        <div class="new-bike-info">
                            <h3>Kavitha Nair</h3>
                            <p>Honda Activa 125 &bull; Starting problem</p>
                            <p style="color:var(--blue);font-weight:600;">‚úÖ Auto-assigned to <strong>Iqbal</strong> (8 min ago)</p>
                        </div>
                    </div>
                    <button class="auto-assign-btn" style="background:var(--text-light);" onclick="showToast('Tap to expand and reassign')">üîÑ Reassign</button>
                </div>

                <div class="new-bike-card" style="border-left-color:var(--blue);">
                    <div class="new-bike-top">
                        <div class="new-bike-icon" style="background:var(--blue-light);">üèçÔ∏è</div>
                        <div class="new-bike-info">
                            <h3>Rahul Joshi</h3>
                            <p>Bajaj Dominar 400 &bull; Regular service</p>
                            <p style="color:var(--blue);font-weight:600;">‚úÖ Auto-assigned to <strong>Mujju</strong> (just now)</p>
                        </div>
                    </div>
                    <button class="auto-assign-btn" style="background:var(--text-light);" onclick="showToast('Tap to expand and reassign')">üîÑ Reassign</button>
                </div>
            </div>

            <!-- Info banner -->
            <div style="background:var(--blue-light);border-radius:12px;padding:14px;margin-top:8px;">
                <div style="font-size:13px;color:var(--blue);font-weight:600;">‚ÑπÔ∏è Hybrid Assignment Mode</div>
                <div style="font-size:12px;color:var(--text);margin-top:4px;">System auto-assigns all new bikes instantly. You and Mujju can reassign any job anytime. Mechanics cannot pick or swap jobs.</div>
            </div>
        </div>

        <!-- TEAM SCREEN -->
        <div class="screen" id="team">
            <div class="section-title">üìä Weekly Performance Rankings</div>

            <div class="perf-chart">
                <div class="perf-bar-row">
                    <div class="perf-name" style="font-weight:700;color:var(--green)">Mujju</div>
                    <div class="perf-bar"><div class="perf-bar-fill" style="width:95%;background:linear-gradient(90deg,var(--green),#22c55e)">12 jobs &bull; 94%</div></div>
                    <div class="perf-score" style="color:var(--green)">ü•á</div>
                </div>
                <div class="perf-bar-row">
                    <div class="perf-name">Appi</div>
                    <div class="perf-bar"><div class="perf-bar-fill" style="width:83%;background:var(--blue)">10 jobs &bull; 90%</div></div>
                    <div class="perf-score">ü•à</div>
                </div>
                <div class="perf-bar-row">
                    <div class="perf-name">Iqbal</div>
                    <div class="perf-bar"><div class="perf-bar-fill" style="width:67%;background:var(--blue)">8 jobs &bull; 88%</div></div>
                    <div class="perf-score">ü•â</div>
                </div>
                <div class="perf-bar-row">
                    <div class="perf-name">Baba</div>
                    <div class="perf-bar"><div class="perf-bar-fill" style="width:58%;background:var(--blue)">7 jobs &bull; 85%</div></div>
                    <div class="perf-score">4</div>
                </div>
                <div class="perf-bar-row">
                    <div class="perf-name" style="color:var(--orange)">Mohan</div>
                    <div class="perf-bar"><div class="perf-bar-fill" style="width:42%;background:var(--orange)">6 jobs &bull; 72%</div></div>
                    <div class="perf-score" style="color:var(--orange)">5</div>
                </div>
            </div>

            <div class="section-title">üìà Workload Balance - Today</div>
            <div class="perf-chart">
                <div class="perf-bar-row">
                    <div class="perf-name">Mujju</div>
                    <div class="perf-bar"><div class="perf-bar-fill" style="width:100%;background:var(--red)">5 jobs &bull; 7hrs</div></div>
                </div>
                <div class="perf-bar-row">
                    <div class="perf-name">Appi</div>
                    <div class="perf-bar"><div class="perf-bar-fill" style="width:80%;background:var(--orange)">4 jobs &bull; 5.5hrs</div></div>
                </div>
                <div class="perf-bar-row">
                    <div class="perf-name">Iqbal</div>
                    <div class="perf-bar"><div class="perf-bar-fill" style="width:60%;background:var(--blue)">3 jobs &bull; 4hrs</div></div>
                </div>
                <div class="perf-bar-row">
                    <div class="perf-name">Baba</div>
                    <div class="perf-bar"><div class="perf-bar-fill" style="width:40%;background:var(--green)">2 jobs &bull; 3hrs</div></div>
                </div>
                <div class="perf-bar-row">
                    <div class="perf-name" style="color:var(--orange)">Mohan</div>
                    <div class="perf-bar"><div class="perf-bar-fill" style="width:40%;background:var(--orange)">2 jobs &bull; 3hrs</div></div>
                </div>
            </div>

            <div style="text-align:center;padding:12px;">
                <div style="font-size:12px;color:var(--text-light);margin-bottom:8px;">‚ö†Ô∏è Mujju is overloaded - consider rebalancing</div>
                <button class="auto-assign-btn" style="max-width:250px;margin:0 auto;" onclick="showToast('Rebalance suggestion sent')">üîÑ Auto-Rebalance Team</button>
            </div>
        </div>

        <!-- CUSTOMERS SCREEN -->
        <div class="screen" id="customers">
            <div class="section-title">üì± Customer Status Updates</div>

            <div class="customer-card">
                <div class="customer-top">
                    <div class="customer-avatar">üë§</div>
                    <div>
                        <div class="customer-name">Ramesh Gupta</div>
                        <div class="customer-phone">Honda CB Shine &bull; +91-98765-43212</div>
                    </div>
                </div>
                <div class="status-timeline">
                    <div class="status-step">
                        <div class="status-dot done">‚úì</div>
                        <div class="status-label">Received</div>
                        <div class="status-line done"></div>
                    </div>
                    <div class="status-step">
                        <div class="status-dot done">‚úì</div>
                        <div class="status-label">Parts OK</div>
                        <div class="status-line done"></div>
                    </div>
                    <div class="status-step">
                        <div class="status-dot current">üîß</div>
                        <div class="status-label">Working</div>
                        <div class="status-line pending"></div>
                    </div>
                    <div class="status-step">
                        <div class="status-dot pending"></div>
                        <div class="status-label">QC</div>
                        <div class="status-line pending"></div>
                    </div>
                    <div class="status-step">
                        <div class="status-dot pending"></div>
                        <div class="status-label">Ready</div>
                    </div>
                </div>
                <button class="whatsapp-btn" onclick="showToast('WhatsApp update sent to Ramesh')">
                    üí¨ Send WhatsApp Update
                </button>
            </div>

            <div class="customer-card">
                <div class="customer-top">
                    <div class="customer-avatar">üë§</div>
                    <div>
                        <div class="customer-name">Priya Sharma</div>
                        <div class="customer-phone">RE Classic 350 &bull; +91-98765-43211</div>
                    </div>
                </div>
                <div class="status-timeline">
                    <div class="status-step">
                        <div class="status-dot done">‚úì</div>
                        <div class="status-label">Received</div>
                        <div class="status-line done"></div>
                    </div>
                    <div class="status-step">
                        <div class="status-dot" style="background:var(--red);">!</div>
                        <div class="status-label" style="color:var(--red);font-weight:600;">Parts Wait</div>
                        <div class="status-line pending"></div>
                    </div>
                    <div class="status-step">
                        <div class="status-dot pending"></div>
                        <div class="status-label">Working</div>
                        <div class="status-line pending"></div>
                    </div>
                    <div class="status-step">
                        <div class="status-dot pending"></div>
                        <div class="status-label">QC</div>
                        <div class="status-line pending"></div>
                    </div>
                    <div class="status-step">
                        <div class="status-dot pending"></div>
                        <div class="status-label">Ready</div>
                    </div>
                </div>
                <button class="whatsapp-btn" onclick="showToast('WhatsApp delay notice sent to Priya')">
                    üí¨ Notify Delay via WhatsApp
                </button>
            </div>

            <div class="customer-card">
                <div class="customer-top">
                    <div class="customer-avatar">üë§</div>
                    <div>
                        <div class="customer-name">Rajesh Kumar</div>
                        <div class="customer-phone">Hero Splendor &bull; +91-98765-43210</div>
                    </div>
                </div>
                <div class="status-timeline">
                    <div class="status-step">
                        <div class="status-dot done">‚úì</div>
                        <div class="status-label">Received</div>
                        <div class="status-line done"></div>
                    </div>
                    <div class="status-step">
                        <div class="status-dot done">‚úì</div>
                        <div class="status-label">Parts OK</div>
                        <div class="status-line done"></div>
                    </div>
                    <div class="status-step">
                        <div class="status-dot done">‚úì</div>
                        <div class="status-label">Done</div>
                        <div class="status-line done"></div>
                    </div>
                    <div class="status-step">
                        <div class="status-dot done">‚úì</div>
                        <div class="status-label">QC Pass</div>
                        <div class="status-line done"></div>
                    </div>
                    <div class="status-step">
                        <div class="status-dot" style="background:var(--green);animation:pulse 1.5s infinite;">üèçÔ∏è</div>
                        <div class="status-label" style="color:var(--green);font-weight:600;">Pickup!</div>
                    </div>
                </div>
                <button class="whatsapp-btn" onclick="showToast('Pickup notification sent to Rajesh')">
                    üí¨ Send "Ready for Pickup" Message
                </button>
            </div>
        </div>
    </div>

    <!-- TOAST -->
    <div class="toast" id="toast"></div>

    <!-- BOTTOM NAV -->
    <div class="bottom-nav" id="bottomNav">
        <div class="bottom-nav-item active" onclick="switchBottomNav(0)">
            <span class="bottom-nav-icon">üìÖ</span>
            <div class="bottom-nav-label">Calendar</div>
        </div>
        <div class="bottom-nav-item" onclick="switchBottomNav(1)">
            <span class="bottom-nav-icon">üìã</span>
            <div class="bottom-nav-label">Queue</div>
        </div>
        <div class="bottom-nav-item" onclick="switchBottomNav(2)">
            <span class="bottom-nav-icon">üìä</span>
            <div class="bottom-nav-label">Stats</div>
        </div>
        <div class="bottom-nav-item" onclick="switchBottomNav(3)">
            <span class="bottom-nav-icon">üë§</span>
            <div class="bottom-nav-label">Profile</div>
        </div>
    </div>

    <!-- ========== SUPPORT STAFF VIEW ========== -->
    <div id="staffView">
        <div class="nav-tabs">
            <div class="nav-tab active" onclick="switchStaffTab(this,'checkin')">
                <span class="nav-tab-icon">‚ûï</span>Check In
            </div>
            <div class="nav-tab" onclick="switchStaffTab(this,'queue')">
                <span class="nav-tab-icon">üìã</span>Queue
            </div>
            <div class="nav-tab" onclick="switchStaffTab(this,'pickup')">
                <span class="nav-tab-icon">üí∞</span>Pickup
            </div>
            <div class="nav-tab" onclick="switchStaffTab(this,'parts')">
                <span class="nav-tab-icon">üî©</span>Parts
            </div>
        </div>

        <!-- CHECK IN SCREEN (This is Frame 1 - where everything starts) -->
        <div class="screen active" id="checkin">
            <div class="section-title" style="margin-top:8px;">‚ûï New Service Entry</div>
            <div style="font-size:12px;color:var(--text-light);margin-bottom:16px;">Customer walked in ‚Üí Fill this form to check in their bike</div>

            <div style="background:white;border-radius:12px;padding:16px;box-shadow:var(--shadow);">
                <!-- Photo -->
                <div style="margin-bottom:16px;">
                    <div style="width:100%;height:120px;background:var(--blue-light);border-radius:12px;border:2px dashed var(--blue);display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;" onclick="showToast('Camera would open here')">
                        <span style="font-size:36px;">üì∏</span>
                        <span style="font-size:13px;color:var(--blue);font-weight:600;margin-top:4px;">Tap to Take Bike Photo</span>
                        <span style="font-size:11px;color:var(--text-light);">Required for job card</span>
                    </div>
                </div>

                <!-- Customer -->
                <div style="margin-bottom:12px;">
                    <label style="font-size:12px;font-weight:600;color:var(--text-light);display:block;margin-bottom:4px;">üë§ Customer Name</label>
                    <input type="text" placeholder="Type name or phone to search..." style="width:100%;padding:10px 12px;border:1px solid var(--border);border-radius:8px;font-size:14px;" value="Amit Verma">
                    <div style="font-size:11px;color:var(--green);margin-top:2px;">‚úÖ Returning customer - last visit: Jan 15</div>
                </div>

                <div style="margin-bottom:12px;">
                    <label style="font-size:12px;font-weight:600;color:var(--text-light);display:block;margin-bottom:4px;">üì± Phone Number</label>
                    <input type="tel" placeholder="+91-XXXXX-XXXXX" style="width:100%;padding:10px 12px;border:1px solid var(--border);border-radius:8px;font-size:14px;" value="+91-98765-43215">
                </div>

                <!-- Bike -->
                <div style="margin-bottom:12px;">
                    <label style="font-size:12px;font-weight:600;color:var(--text-light);display:block;margin-bottom:4px;">üèçÔ∏è Bike Model</label>
                    <input type="text" placeholder="Search bike model..." style="width:100%;padding:10px 12px;border:1px solid var(--border);border-radius:8px;font-size:14px;" value="Suzuki Gixxer SF">
                </div>

                <!-- Service Type - Big colorful buttons -->
                <div style="margin-bottom:12px;">
                    <label style="font-size:12px;font-weight:600;color:var(--text-light);display:block;margin-bottom:8px;">üîß Service Type</label>
                    <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px;">
                        <div class="assign-btn" onclick="selectServiceType(this)" style="flex-direction:column;padding:12px;text-align:center;justify-content:center;">
                            <span style="font-size:24px;">üîß</span>
                            <span style="font-size:12px;font-weight:600;">Regular Service</span>
                            <span style="font-size:10px;color:var(--text-light);">~45 min &bull; ‚Çπ500</span>
                        </div>
                        <div class="assign-btn selected" onclick="selectServiceType(this)" style="flex-direction:column;padding:12px;text-align:center;justify-content:center;">
                            <span style="font-size:24px;">‚ö°</span>
                            <span style="font-size:12px;font-weight:600;">Repair</span>
                            <span style="font-size:10px;color:var(--text-light);">Varies &bull; ‚Çπ200+</span>
                        </div>
                        <div class="assign-btn" onclick="selectServiceType(this)" style="flex-direction:column;padding:12px;text-align:center;justify-content:center;">
                            <span style="font-size:24px;">üßΩ</span>
                            <span style="font-size:12px;font-weight:600;">Makeover</span>
                            <span style="font-size:10px;color:var(--text-light);">~4 hrs &bull; ‚Çπ2459</span>
                        </div>
                        <div class="assign-btn" onclick="selectServiceType(this)" style="flex-direction:column;padding:12px;text-align:center;justify-content:center;">
                            <span style="font-size:24px;">‚úÖ</span>
                            <span style="font-size:12px;font-weight:600;">Insurance</span>
                            <span style="font-size:10px;color:var(--text-light);">~30 min &bull; Free</span>
                        </div>
                    </div>
                </div>

                <!-- Issue -->
                <div style="margin-bottom:12px;">
                    <label style="font-size:12px;font-weight:600;color:var(--text-light);display:block;margin-bottom:4px;">üìù Issue Description</label>
                    <textarea placeholder="What's the problem? (or tap mic for voice)" style="width:100%;padding:10px 12px;border:1px solid var(--border);border-radius:8px;font-size:14px;height:60px;resize:none;">Chain noise + brake check needed</textarea>
                    <button style="margin-top:4px;padding:6px 12px;border:1px solid var(--border);border-radius:6px;background:white;font-size:12px;cursor:pointer;">üé§ Voice Note</button>
                </div>

                <!-- Estimated Time -->
                <div style="margin-bottom:16px;">
                    <label style="font-size:12px;font-weight:600;color:var(--text-light);display:block;margin-bottom:8px;">‚è±Ô∏è Estimated Time</label>
                    <div style="display:flex;gap:8px;flex-wrap:wrap;">
                        <button class="assign-btn" onclick="selectTime(this)" style="padding:8px 16px;">30 min</button>
                        <button class="assign-btn" onclick="selectTime(this)" style="padding:8px 16px;">1 hr</button>
                        <button class="assign-btn selected" onclick="selectTime(this)" style="padding:8px 16px;">1.5 hr</button>
                        <button class="assign-btn" onclick="selectTime(this)" style="padding:8px 16px;">2 hr</button>
                        <button class="assign-btn" onclick="selectTime(this)" style="padding:8px 16px;">4 hr</button>
                    </div>
                </div>

                <!-- Check In Button -->
                <button class="auto-assign-btn" style="background:var(--green);font-size:16px;padding:14px;" onclick="checkInBike()">
                    ‚úÖ CHECK IN BIKE
                </button>
                <div style="text-align:center;font-size:11px;color:var(--text-light);margin-top:8px;">
                    Hybrid mode ‚Üí System auto-assigns instantly. Owner/Mujju can reassign after.
                </div>
            </div>
        </div>

        <!-- QUEUE SCREEN (Support Staff sees all bikes in service) -->
        <div class="screen" id="queue">
            <div class="section-title">üìã All Bikes in Service Today <span class="queue-count" style="font-size:12px;">18</span></div>

            <div style="display:flex;gap:8px;margin-bottom:12px;flex-wrap:wrap;">
                <span style="padding:4px 10px;border-radius:12px;font-size:11px;font-weight:600;background:var(--border);color:var(--text);">All (18)</span>
                <span style="padding:4px 10px;border-radius:12px;font-size:11px;font-weight:600;background:var(--orange-light);color:var(--orange);">Working (4)</span>
                <span style="padding:4px 10px;border-radius:12px;font-size:11px;font-weight:600;background:var(--red-light);color:var(--red);">Parts Wait (2)</span>
                <span style="padding:4px 10px;border-radius:12px;font-size:11px;font-weight:600;background:var(--green-light);color:var(--green);">Ready (3)</span>
            </div>

            <div class="job-card">
                <div class="job-card-border urgent"></div>
                <div class="job-card-content">
                    <div class="job-card-top">
                        <div class="bike-photo" style="background:var(--orange-light);">üèçÔ∏è</div>
                        <div class="job-info">
                            <div class="job-customer">Ramesh Gupta <span style="font-size:11px;color:var(--orange);">‚óè Working</span></div>
                            <div class="job-bike">Honda CB Shine &bull; Mechanic: <strong>Mujju</strong></div>
                            <div class="job-type-badge badge-repair">‚ö° Repair &bull; 42 min elapsed</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="job-card">
                <div class="job-card-border" style="background:var(--red);"></div>
                <div class="job-card-content">
                    <div class="job-card-top">
                        <div class="bike-photo" style="background:var(--red-light);">üèçÔ∏è</div>
                        <div class="job-info">
                            <div class="job-customer">Priya Sharma <span style="font-size:11px;color:var(--red);">‚óè Parts Wait</span></div>
                            <div class="job-bike">RE Classic 350 &bull; Waiting: <strong>Oil Filter</strong></div>
                            <div class="job-type-badge badge-makeover">üßΩ Makeover &bull; Blocked 25 min</div>
                        </div>
                    </div>
                    <div class="job-card-bottom">
                        <button class="job-action-btn btn-start" onclick="showToast('Marked parts as received! Mechanic notified.')">üî© Parts Received</button>
                    </div>
                </div>
            </div>

            <div class="job-card">
                <div class="job-card-border done"></div>
                <div class="job-card-content">
                    <div class="job-card-top">
                        <div class="bike-photo" style="background:var(--green-light);">üèçÔ∏è</div>
                        <div class="job-info">
                            <div class="job-customer">Rajesh Kumar <span style="font-size:11px;color:var(--green);">‚óè Ready for Pickup</span></div>
                            <div class="job-bike">Hero Splendor &bull; Total: <strong>‚Çπ1,120</strong></div>
                            <div class="job-type-badge badge-service">üîß Service &bull; QC Passed</div>
                        </div>
                    </div>
                    <div class="job-card-bottom">
                        <button class="job-action-btn btn-complete" style="background:var(--green);" onclick="showToast('Opening payment screen...')">üí∞ Process Payment</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- PICKUP & PAYMENT SCREEN -->
        <div class="screen" id="pickup">
            <div class="section-title">üí∞ Ready for Pickup <span class="queue-count" style="background:var(--green);">3</span></div>

            <div style="background:white;border-radius:12px;padding:16px;box-shadow:var(--shadow);margin-bottom:12px;border-left:4px solid var(--green);">
                <div style="display:flex;align-items:center;gap:12px;margin-bottom:12px;">
                    <div class="bike-photo" style="background:var(--green-light);">üèçÔ∏è</div>
                    <div>
                        <div style="font-size:16px;font-weight:600;">Rajesh Kumar</div>
                        <div style="font-size:13px;color:var(--text-light);">Hero Splendor Plus 2022</div>
                        <div style="font-size:12px;color:var(--green);font-weight:600;">‚úÖ QC Passed by Mujju</div>
                    </div>
                </div>

                <!-- Before/After Photos -->
                <div style="display:flex;gap:8px;margin-bottom:12px;">
                    <div style="flex:1;background:var(--red-light);border-radius:8px;padding:20px;text-align:center;">
                        <div style="font-size:24px;">üì∏</div>
                        <div style="font-size:10px;color:var(--red);font-weight:600;">BEFORE</div>
                    </div>
                    <div style="flex:1;background:var(--green-light);border-radius:8px;padding:20px;text-align:center;">
                        <div style="font-size:24px;">üì∏</div>
                        <div style="font-size:10px;color:var(--green);font-weight:600;">AFTER</div>
                    </div>
                </div>

                <!-- Bill -->
                <div style="background:var(--bg);border-radius:8px;padding:12px;margin-bottom:12px;">
                    <div style="display:flex;justify-content:space-between;margin-bottom:6px;font-size:13px;">
                        <span>üîß Regular Service</span><span>‚Çπ500</span>
                    </div>
                    <div style="display:flex;justify-content:space-between;margin-bottom:6px;font-size:13px;">
                        <span>üî© Chain lube</span><span>‚Çπ120</span>
                    </div>
                    <div style="display:flex;justify-content:space-between;margin-bottom:6px;font-size:13px;">
                        <span>üî© Brake pads</span><span>‚Çπ500</span>
                    </div>
                    <div style="display:flex;justify-content:space-between;padding-top:8px;border-top:2px solid var(--border);font-size:16px;font-weight:700;">
                        <span>TOTAL</span><span>‚Çπ1,120</span>
                    </div>
                </div>

                <!-- Payment Method -->
                <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-bottom:12px;">
                    <button class="assign-btn selected" onclick="selectPayment(this)" style="justify-content:center;padding:10px;">üíµ Cash</button>
                    <button class="assign-btn" onclick="selectPayment(this)" style="justify-content:center;padding:10px;">üì± UPI</button>
                    <button class="assign-btn" onclick="selectPayment(this)" style="justify-content:center;padding:10px;">üí≥ Card</button>
                    <button class="assign-btn" onclick="selectPayment(this)" style="justify-content:center;padding:10px;">üìã Credit</button>
                </div>

                <button class="auto-assign-btn" style="background:var(--green);font-size:16px;padding:14px;" onclick="showToast('Payment recorded! Customer gets WhatsApp receipt.')">
                    ‚úÖ PAYMENT RECEIVED - ‚Çπ1,120
                </button>
            </div>
        </div>

        <!-- PARTS SCREEN -->
        <div class="screen" id="parts">
            <div class="section-title">üî© Parts Requests <span class="queue-count">2</span></div>

            <div style="background:white;border-radius:12px;padding:14px;box-shadow:var(--shadow);margin-bottom:10px;border-left:4px solid var(--red);">
                <div style="display:flex;justify-content:space-between;align-items:start;">
                    <div>
                        <div style="font-size:14px;font-weight:600;">Oil Filter</div>
                        <div style="font-size:12px;color:var(--text-light);">For: Priya Sharma (RE Classic 350)</div>
                        <div style="font-size:12px;color:var(--text-light);">Mechanic: Baba</div>
                        <div style="font-size:12px;color:var(--red);font-weight:600;">‚è±Ô∏è Waiting 25 min</div>
                    </div>
                    <button class="job-action-btn btn-start" style="white-space:nowrap;" onclick="showToast('Parts received! Baba notified to resume.')">‚úÖ Received</button>
                </div>
            </div>

            <div style="background:white;border-radius:12px;padding:14px;box-shadow:var(--shadow);margin-bottom:10px;border-left:4px solid var(--orange);">
                <div style="display:flex;justify-content:space-between;align-items:start;">
                    <div>
                        <div style="font-size:14px;font-weight:600;">Clutch Cable</div>
                        <div style="font-size:12px;color:var(--text-light);">For: Arun Mehta (KTM Duke 200)</div>
                        <div style="font-size:12px;color:var(--text-light);">Needed for: Tomorrow (Sat)</div>
                        <div style="font-size:12px;color:var(--orange);font-weight:600;">üì¶ Need to order</div>
                    </div>
                    <button class="job-action-btn" style="background:var(--orange);color:white;white-space:nowrap;" onclick="showToast('Marked as ordered')">üì¶ Ordered</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentRoleIndex = 0;
        const roles = [
            { name: 'Front Desk (Staff)', subtitle: 'Support Staff - Front Desk', view: 'staffView' },
            { name: 'Mechanic (Mujju)', subtitle: 'Mujju - Senior Mechanic', view: 'mechanicView' },
            { name: 'Owner (You)', subtitle: 'Owner Dashboard', view: 'ownerView' }
        ];

        function toggleRole() {
            currentRoleIndex = (currentRoleIndex + 1) % roles.length;
            const role = roles[currentRoleIndex];
            document.getElementById('currentRole').textContent = role.name;
            document.getElementById('headerSubtitle').textContent = role.subtitle;

            document.getElementById('mechanicView').style.display = 'none';
            document.getElementById('ownerView').style.display = 'none';
            document.getElementById('staffView').style.display = 'none';
            document.getElementById(role.view).style.display = 'block';

            showToast('Switched to: ' + role.name);
        }

        function switchStaffTab(el, screenId) {
            document.querySelectorAll('#staffView .nav-tab').forEach(t => t.classList.remove('active'));
            el.classList.add('active');
            document.querySelectorAll('#staffView .screen').forEach(s => s.classList.remove('active'));
            document.getElementById(screenId).classList.add('active');
        }

        function selectServiceType(btn) {
            btn.parentElement.querySelectorAll('.assign-btn').forEach(b => b.classList.remove('selected'));
            btn.classList.add('selected');
        }

        function selectTime(btn) {
            btn.parentElement.querySelectorAll('.assign-btn').forEach(b => b.classList.remove('selected'));
            btn.classList.add('selected');
        }

        function selectPayment(btn) {
            btn.parentElement.querySelectorAll('.assign-btn').forEach(b => b.classList.remove('selected'));
            btn.classList.add('selected');
        }

        function checkInBike() {
            showToast('Bike checked in! Auto-assigned to Appi (lowest workload). Customer gets WhatsApp confirmation.');
        }

        function switchMechTab(el, screenId) {
            document.querySelectorAll('#mechanicView .nav-tab').forEach(t => t.classList.remove('active'));
            el.classList.add('active');
            document.querySelectorAll('#mechanicView .screen').forEach(s => s.classList.remove('active'));
            document.getElementById(screenId).classList.add('active');
        }

        function switchOwnerTab(el, screenId) {
            document.querySelectorAll('#ownerView .nav-tab').forEach(t => t.classList.remove('active'));
            el.classList.add('active');
            document.querySelectorAll('#ownerView .screen').forEach(s => s.classList.remove('active'));
            document.getElementById(screenId).classList.add('active');
        }

        function switchBottomNav(idx) {
            document.querySelectorAll('.bottom-nav-item').forEach((item, i) => {
                item.classList.toggle('active', i === idx);
            });
        }

        function startJob(btn, jobId) {
            btn.textContent = '‚è±Ô∏è In Progress...';
            btn.className = 'job-action-btn btn-complete';
            btn.style.background = 'var(--orange)';
            btn.onclick = function() { completeJob(btn, jobId); };

            const card = document.getElementById(jobId);
            const border = card.querySelector('.job-card-border');
            border.className = 'job-card-border urgent';

            showToast('Job started! Timer running...');
        }

        function completeJob(btn, jobId) {
            btn.textContent = '‚úÖ Done';
            btn.className = 'job-action-btn btn-done';
            btn.style.background = 'var(--green-light)';
            btn.style.color = 'var(--green)';
            btn.onclick = null;

            const card = document.getElementById(jobId);
            card.classList.add('completed');
            const border = card.querySelector('.job-card-border');
            border.className = 'job-card-border done';

            // Update progress
            document.getElementById('progressText').textContent = '3 / 5 done';
            document.getElementById('progressFill').style.width = '60%';

            showToast('Job completed! Customer notified via WhatsApp');
        }

        function autoAssign() {
            showToast('Job assigned! Mechanic notified.');
        }

        function selectAssign(btn) {
            btn.parentElement.querySelectorAll('.assign-btn').forEach(b => b.classList.remove('selected'));
            btn.classList.add('selected');
        }

        function showToast(msg) {
            const toast = document.getElementById('toast');
            toast.textContent = msg;
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), 2500);
        }
    </script>
</body>
</html>
